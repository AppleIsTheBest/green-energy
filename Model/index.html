<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content ="width=device-width,initial-scale=1,user-scalable=yes" />
  <link rel="stylesheet" type="text/css" href="../index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
  <script src="../jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="../index.js"></script>
    <script src="index.js"></script>
  <title>AllantVert Inc. - Model</title>

    <style>
        .date{
            margin-right: 350;
        }
        .selectMenu{
            margin-right: 350;
        }   
        .RegularWhiteText{
            color: white;
        }
      body {
  max-width: 100%;
  height: auto;
  width: auto\9; /* ie8 */
}

    a:hover {

      color: grey;

    }

    .button {

      color: #000000;

    }  
        
    .hyperlink {
      color: #0099ff;
    }
    .hyperlink:visited {
      color: #0099ff;
    }
    </style>
</head>
<body>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <div id="titlename"><p id="menu-button" style="font-size: 20px;">AllantVert Inc.</p></div>
   <nav>
   <a class="navlink" href="../">Home</a>
    <a class="navlink" margin-left="15" href="../Solutions/">Green Solutions</a>
    <a class="navlink" href="../Model/">Model</a>
    <a class="navlink" href="../Contact/">Contact Us</a>
    <a class="navlink" href="../Support/">Support</a>
    <a class="navlink" href="../Support/Feedback.html">Feedback</a>
  </nav>
      <h1 class="tc">Model</h1>
    <form>
    <article class="c form">
    <script>
        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                vars[key] = value;
            });
            return vars;
        }
        var param = getUrlVars()["product"];
        var product = document.getElementById("test").value
        product = param;
        if (product == "Select"){
            alert("Please select a product.")
        }    
    </script>
    </div>
    <p>Curious about benefits of switching to a green energy solution? Use this tool to estimate your benefits.</p>
    <h2>Basic Information</h2>
    <div class="flex-container">
        <div class="label-input-container tworow">
            <label class="RegularWhiteText">Home Value (USD)</label>
            <input class="" name="homeValue" type="number" id="require" onchange="verifyValue(this);" required><br>
            <script>
                function verifyValue(input) {
                    if (isNaN(Number(input.value))) {
                        input.value == null;
                        alert('You must enter a valid home value.');
                    }
                    else if (Number(input.value.length) < 100000) {
                        input.value == null;
                        alert('You must enter a valid home value.');
                    }
                }
            </script>
        </div>
        <div class="label-input-container tworow">
            <label class="RegularWhiteText">Year</label>
            <input class="" name="homeYear" type="text" id="require" onchange="verifyYear(this);" required>
            <script>
                function verifyYear(input) {
                    if (isNaN(Number(input.value))) {
                        input.value == null;
                        alert('You must enter a valid year.');
                    }
                    else if (input.value.length < 4 || input.value.length > 4) {
                        input.value == null;
                        alert('You must enter a valid year.');
                    }
                    else if (Number(input.value.length) < 1924 || Number(input.value.length) > 2024) {
                        input.value == null;
                        alert('You must enter a valid year.');
                    }
                }
            </script>
        </div>
    </div>
    <h2>Location Information</h2>
    <div class="flex-container">
        <div class="label-input-container tworow">
            <label class="RegularWhiteText">ZIP Code</label>
            <input name="zipCode" type="text" placeholder="5 Digit ZIP Code" onchange="obtainLocation(this);" required>
            <script>
                function obtainLocation(input) {
                    if (isNaN(Number(input.value)) || input.value.length > 5) {
                        input.value = null;
                        alert('Enter a valid U.S. ZIP code.')
                    }
                    else if (input.value.length == 5) {
                        console.log("Check passed");
                        var request = new XHRHttpRequest();
                        request.onreadystatechange = function() {
                            if (this.status == 200) {
                                var data = JSON.parse(this.responseText);
                                var city = data["city"];
                                var state = data["state"];
                                console.log(`City: ${city}, State: ${state}`);
                            }
                        }
                        request.open("GET", `https://api.usps.com/addresses/v3/city-state?zip=${input.value}`, true);
                        request.send();
                    }
                }
            </script>
        </div>
    </div>
    
        <h2 id="event_product_header">Energy Information</h2>
        <div class="flex-container">
        <div class="label-input-container tworow" id="lengthDiv" hidden>
            <label class="RegularWhiteText" id="customMessage">Monthly Average Energy Usage (kWh)</label>
            <input id="energyUsage" type="text" onchange="verifyEnergyUsage(this);" placeholder="Enter value in kWh." required>
            <script>
                function verifyEnergyUsage(input) {
                    if (isNaN(Number(input.value))) {
                        alert('Enter a valid energy usage.');
                        input.value = null;
                    }
                }
            </script>
        </div>
        <div class="label-input-container tworow">
            <label class="RegularWhiteText" id="quantity">Monthly Average Energy Cost (USD)</label>
            <input class="" type="number" id="require" onchange="verifyEnergyCost(this);" placeholder="Enter value in USD." name="energyCost" required>
            <script>
                function verifyEnergyCost(input) {
                    if (isNaN(Number(input.value))) {
                        alert('Enter a valid energy usage.');
                        input.value = null;
                    }
                }
            </script><br>
        </div>
    </div>
            <label class="RegularWhiteText">Which package?</label>
    <div class="flex-container">
        <select id="packageSelection" class="selectMenu" onchange="handleSelectionChange(this)" required>
            <option value="">Select</option>
            <option value="stb">Space Traveler</option>
            <option value="stp">Space Traveler Plus</option>
            <option value="seb">Space Explorer</option>
            <option value="sep">Space Explorer Plus</option>
        </select>
        <script>
            function handleSelectionChange(input) {
                console.log("called");
                if (input.value == "stb" || input.value == "stp") {
                    document.getElementById("journeyLength").disabled = false
                    document.getElementById("journeyLength").placeholder = "Package permits up to 30 days"
                    document.getElementById("lengthDiv").hidden = false
                    var maxLengthApplicable = true;
                }
                else if (input.value == "seb" || input.value == "sep") {
                    document.getElementById("journeyLength").disabled = false
                    document.getElementById("journeyLength").placeholder = "Enter the length of your stay"
                    document.getElementById("lengthDiv").hidden = false
                    var maxLengthApplicable = false;
                }
                else {
                    document.getElementById("journeyLength").disabled = true
                    document.getElementById("journeyLength").value = ""
                    document.getElementById("journeyLength").placeholder = ""
                    var maxLengthApplicable = true;
                }
                calculateTotal();
            }
        </script>
    </div>
    <div>
        
        <h2>Payment Information</h2>
    <div class="flex-container">
        <div class="label-input-container tworow">
            <label class="RegularWhiteText">Card Type</label>
            <select class="select" required>
                <option value="">Select</option>
                <option value="debit">Debit</option>
                <option value="credit">Credit</option>
            </select>
        </div>
        <div class="label-input-container tworow">
            <label class="RegularWhiteText">Card Issuer</label>
            <select class="select" required>
                <option value="">Select</option>
                <option value="visa">Visa</option>
                <option value="discover">Discover</option>
                <option value="mastercard">Mastercard</option>
                <option value="amex">American Express (Amex)</option>
            </select>
        </div>
    </div>
    <div class="flex-container">
       <div class="label-input-container threerow">
           <label class="RegularWhiteText">Card Number</label>
           <input name="credit card" type="text" placeholder="16 Digits Long" onchange="verifyCard(this);" required>
           <script>
               function verifyCard(input) {
                   if (input == null) return;
                   if ((input.value.toString().length != 16) || (isNaN(Number(input.value)))) {
                       alert("Your card number must consist of only numbers and must be 16 digits.");
                       input.value = null;
                       return;
                   }
                   if (Number(input.value) < 0) {
                       input.value = null;
                   }
               }
           </script>
       </div>  
       <div class="label-input-container threerow">
           <label class="RegularWhiteText">Expiration Date</label>
           <input class="" name="Expiration" type="text" placeholder="mm/yy" required>
       </div> 
       <div class="label-input-container threerow">
           <label class="RegularWhiteText">Three Digit Security Code (CVC/CVV)</label>
           <input class="" name="CCV" type="number" placeholder="Found on the back of your card." onchange="verifyCode(this);" required>
           <script>
               function verifyCode(input) {
                   if (input == null) return;
                   if ((input.value.toString().length != 3) || isNaN(Number(input.value))) {
                       alert("Your CVV must contain only numbers and must be 3 digits longs.");
                       input.value = null;
                       return;
                   }
                   if (Number(input.value) < 0) {
                       input.value = null;
                   }
               }
           </script>
       </div>
    </div>
        
        <h2>Disclaimers & Terms/Conditions</h2>
        <label class="RegularWhiteText">I agree to all of the <a href="" class="hyperlink" target="_blank">terms and conditions</a>.
        <input type="checkbox" required>
    </div>
    <p id="subtotal">Subtotal: Please select an package and enter the number of passengers and days.</p>
    <script>
        function calculateTotal() {
            if (document.getElementsByName("quantityInput")[0].value != null && document.getElementById("packageSelection").value != null && document.getElementById("journeyLength").value != null) {
                var quantity = document.getElementsByName("quantityInput")[0].value;
                var priceDictionary = {"stb": 500000, "stp": 750000, "seb": 1500000, "sep": 2500000};
                var lengthOfStay = document.getElementById("journeyLength").value;
                document.getElementById("subtotal").innerText = "Subtotal: $" + priceDictionary[document.getElementById("packageSelection").value] * quantity * lengthOfStay + ".00";
            }
        }
    </script>
    <button class="button" action="alert('Thank you for signing up! We will reach out with more details about trainings and then we will assist you in finishing your booking.'); window.location.href = '/products';" style="font-family: Quicksand;">Register Now</button>
    </article>
</form>
<footer>
  <p style="font-size: 12px;">*The custom message is subject to review. Extraplanetary Exploration Corp. reserves the right to not include the message at our discretion.</p>
  <p>Copyright © 2022 Extraplanetary Exploration Corp. All rights reserved</p>
  <p>PLEASE NOTE: If you are using a mobile device to view this web page, please turn off portrait orientation lock, and turn the device on its side.</p>
</footer>
</body>
</html>
